(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[61],{74613:function(e,r,n){"use strict";var t=n(85893),s=n(41664),o=n(60961),i=n(54009),a=n.n(i);r.Z=function(e){var r=e.slug;return(0,t.jsx)(s.default,{href:"/auth?redirect=".concat((0,o.Xl)(r)),children:(0,t.jsx)("a",{className:a().btn,children:"Sign in"})})}},41061:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return h}});var t=n(85893),s=n(94184),o=n.n(s),i=n(15012),a=n(41820),c=n(74613),l=n(54009),u=n.n(l),d=function(e){var r=e.slug;return(0,t.jsx)("div",{className:u().placeholder,children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:"You must be logged in to start watching"}),(0,t.jsx)(c.Z,{slug:r})]})})},f=n(26846),v=n.n(f),m=n(67294),h=function(e){var r=e.videoSource,n=e.slug,s=function(){var e,r=(0,m.useRef)(null),n=(0,m.useState)(!1),t=n[0],s=n[1],o=(0,m.useState)(0),i=o[0],a=o[1],c=(0,m.useState)(0),l=c[0],u=c[1],d=(0,m.useState)(0),f=d[0],v=d[1];(0,m.useEffect)((function(){var e;(null===(e=r.current)||void 0===e?void 0:e.duration)&&u(r.current.duration)}),[null===(e=r.current)||void 0===e?void 0:e.duration]);var h=(0,m.useCallback)((function(){var e,n;t?(null===(e=r.current)||void 0===e||e.pause(),s(!1)):(null===(n=r.current)||void 0===n||n.play(),s(!0))}),[t]),p=function(){r.current&&(r.current.currentTime+=10)},_=function(){r.current&&(r.current.currentTime-=10)},x=function(){var e=r.current;e&&(e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen())};return(0,m.useEffect)((function(){var e=r.current;if(e){var n=function(){a(e.currentTime),v(e.currentTime/l*100)};return e.addEventListener("timeupdate",n),function(){e.removeEventListener("timeupdate",n)}}}),[l]),(0,m.useEffect)((function(){var e=function(e){switch(e.key){case"ArrowRight":p();break;case"ArrowLeft":_();break;case" ":e.preventDefault(),h();break;case"f":x();break;default:return}};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[h]),(0,m.useMemo)((function(){return{videoRef:r,actions:{fullScreen:x,revert:_,forward:p,toggleVideo:h},video:{isPlaying:t,currentTime:i,progress:f,videoTime:l}}}),[i,f,t,l,h])}(),c=s.actions,l=s.video,u=s.videoRef,f=(0,i.a)().user;return(0,t.jsx)("div",{className:o()(v().wrapper,{"h-96":!f}),children:f?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("video",{ref:u,className:v().video,src:"".concat(r,"#t=8"),preload:"metadata"}),(0,t.jsx)("div",{className:v().progressBarContainer,children:(0,t.jsx)("div",{style:{width:"".concat(l.progress,"%")},className:v().progressBar})}),(0,t.jsxs)("div",{className:v().controls,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{onClick:c.revert,children:(0,t.jsx)(a.Z,{name:"MdHistory"})}),(0,t.jsx)("button",{onClick:c.toggleVideo,className:v().playButton,children:(0,t.jsx)(a.Z,{name:l.isPlaying?"MdPause":"MdPlayArrow"})}),(0,t.jsx)("button",{onClick:c.forward,children:(0,t.jsx)(a.Z,{name:"MdUpdate"})}),(0,t.jsxs)("div",{className:v().timeControls,children:[(0,t.jsx)("p",{className:v().controlsTime,children:Math.floor(l.currentTime/60)+":"+("0"+Math.floor(l.currentTime%60)).slice(-2)}),(0,t.jsx)("p",{children:" / "}),(0,t.jsx)("p",{className:v().controlsTime,children:Math.floor(l.videoTime/60)+":"+("0"+Math.floor(l.videoTime%60)).slice(-2)})]})]}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{onClick:c.fullScreen,children:(0,t.jsx)(a.Z,{name:"MdFullscreen"})})})]})]}):(0,t.jsx)(d,{slug:n})})}},54009:function(e){e.exports={placeholder:"AuthPlaceholder_placeholder__YVzcU",btn:"AuthPlaceholder_btn__989TG"}},26846:function(e){e.exports={wrapper:"VideoPlayer_wrapper__gbkFu",fade:"VideoPlayer_fade__lF84Y",controls:"VideoPlayer_controls__ZQx86",playButton:"VideoPlayer_playButton__D_Dp8",timeControls:"VideoPlayer_timeControls__9afR3",progressBarContainer:"VideoPlayer_progressBarContainer__KzbQm",progressBar:"VideoPlayer_progressBar__kOHsN"}}}]);