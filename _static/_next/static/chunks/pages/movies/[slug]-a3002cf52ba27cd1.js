(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[846],{39174:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/movies/[slug]",function(){return n(79683)}])},18935:function(t,e,n){"use strict";n.d(e,{r:function(){return s}});var r=n(88767),i=n(15012),a=n(54740),s=function(){var t=(0,i.a)().user,e=(0,r.useQuery)("Favorite movies",(function(){return a.K.getFavorites()}),{select:function(t){return t.data},enabled:!!t});return{isLoading:e.isLoading,favoritesMovies:e.data,refetch:e.refetch}}},34333:function(t,e,n){"use strict";var r=n(85893),i=n(94184),a=n.n(i),s=n(67294),u=n(88767),o=n(15012),c=n(54740),l=n(82623),f=n(18935),d=n(30889),p=n.n(d);e.Z=function(t){var e=t.movieId;if(!(0,o.a)().user)return null;var n=(0,s.useState)(!1),i=n[0],d=n[1],m=(0,f.r)(),v=m.favoritesMovies,x=m.refetch;(0,s.useEffect)((function(){if(v){var t=v.some((function(t){return t._id===e}));i!==t&&d(t)}}),[v,i,e]);var h,_,g,j=(0,u.useMutation)("update actor",(function(){return c.K.toggleFavorite(e)}),{onError:function(t){(0,l._)(t,"Update favorite list")},onSuccess:function(){d(!i),x()}}).mutateAsync;return(0,r.jsx)("button",{onClick:function(){return j()},className:a()(p().button,(h={},_=p().animate,g=i,_ in h?Object.defineProperty(h,_,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[_]=g,h)),style:{backgroundImage:"url('/heart-animation.png')"}})}},90454:function(t,e,n){"use strict";n.d(e,{Z:function(){return d}});var r=n(85893),i=n(11741),a=n.n(i),s=n(94184),u=n.n(s),o=n(25675),c=n(41664);function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=function(t){var e,n=t.item,i=t.variant;return(0,r.jsx)(c.default,{href:n.link,children:(0,r.jsxs)("a",{className:u()(a().item,(e={},l(e,a().withText,n.content),l(e,a().horizontal,"horizontal"===i),l(e,a().vertical,"vertical"===i),e)),children:[(0,r.jsx)(o.default,{alt:n.name,src:n.posterPath,layout:"fill",draggable:!1,priority:!0}),n.content&&(0,r.jsxs)("div",{className:a().content,children:[(0,r.jsx)("div",{className:a().title,children:n.content.title}),n.content.subTitle&&(0,r.jsxs)("div",{className:a().subTitle,children:[" ",n.content.subTitle]})]})]})})},d=function(t){var e=t.items;return(0,r.jsx)("div",{className:a().gallery,children:e.map((function(t){return(0,r.jsx)(f,{item:t,variant:"vertical"},t.link)}))})}},13505:function(t,e,n){"use strict";var r=n(85893);e.Z=function(t){var e=t.title,n=t.className;return(0,r.jsx)("h1",{className:"text-white text-opacity-80 font-semibold ".concat((null===n||void 0===n?void 0:n.includes("xl"))?"":"text-3xl"," ").concat(n),children:e})}},41912:function(t,e,n){"use strict";var r=n(85893);e.Z=function(t){var e=t.title;return(0,r.jsx)("h2",{className:"text-white text-xl mb-5 font-semibold",children:e})}},54740:function(t,e,n){"use strict";n.d(e,{K:function(){return c}});var r=n(34051),i=n.n(r),a=n(78423),s=n(66846);function u(t,e,n,r,i,a,s){try{var u=t[a](s),o=u.value}catch(c){return void n(c)}u.done?e(o):Promise.resolve(o).then(r,i)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function s(t){u(a,r,i,s,o,"next",t)}function o(t){u(a,r,i,s,o,"throw",t)}s(void 0)}))}}var c={getProfile:function(){return o(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a.Z.get((0,s.Il)("/profile")));case 1:case"end":return t.stop()}}),t)})))()},updateProfile:function(t){return o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.put((0,s.Il)("/profile"),t));case 1:case"end":return e.stop()}}),e)})))()},getAll:function(t){return o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.get((0,s.Il)(""),{params:t?{searchTerm:t}:{}}));case 1:case"end":return e.stop()}}),e)})))()},getById:function(t){return o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.get((0,s.Il)("/".concat(t))));case 1:case"end":return e.stop()}}),e)})))()},getUser:function(t){return o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.get((0,s.Il)("/".concat(t))));case 1:case"end":return e.stop()}}),e)})))()},update:function(t,e){return o(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",a.Z.put((0,s.Il)("/".concat(t)),e));case 1:case"end":return n.stop()}}),n)})))()},deleteUser:function(t){return o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.delete((0,s.Il)("/".concat(t))));case 1:case"end":return e.stop()}}),e)})))()},getFavorites:function(){return o(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a.Z.get((0,s.Il)("/profile/favorites")));case 1:case"end":return t.stop()}}),t)})))()},toggleFavorite:function(t){return o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.put((0,s.Il)("/profile/favorites"),{movieId:t}));case 1:case"end":return e.stop()}}),e)})))()}}},44087:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});var r=n(85893),i=n(9008),a=n(11163),s=n(79247),u="Online cinema",o=function(t){return"".concat(t," | ").concat(u)},c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t.replace(/<[^>]+>/g,"").replace(/&[^;]+./g," ").replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,"");return e&&(n=n.slice(0,e)+"..."),n},l=function(t){var e=t.title,n=t.description,l=t.image,f=t.children,d=(0,a.useRouter)().asPath,p="".concat("http://localhost:3000").concat(d);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.default,{children:[(0,r.jsx)("title",{itemProp:"headline",children:o(e)}),n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("meta",{itemProp:"description",name:"description",content:c(n,152)}),(0,r.jsx)("link",{rel:"canonical",href:p}),(0,r.jsx)("meta",{property:"og:locale",content:"en"}),(0,r.jsx)("meta",{property:"og:title",content:o(e)}),(0,r.jsx)("meta",{property:"og:url",content:p}),(0,r.jsx)("meta",{property:"og:image",content:l||s.Z}),(0,r.jsx)("meta",{property:"og:site_name",content:u}),(0,r.jsx)("meta",{property:"og:description",content:c(n,197)})]}):(0,r.jsx)("meta",{name:"robots",content:"noindex, nofollow"})]}),f]})}},27492:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return s}});var r=n(85893),i=n(13505),a=n(44087);function s(){return(0,r.jsx)(a.Z,{title:"Page not found",children:(0,r.jsx)(i.Z,{title:"404 - Page Not Found"})})}},79683:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSG:function(){return D},default:function(){return I}});var r=n(85893),i=n(5152),a=n(25675),s=n(67294),u=n(78950),o=n.n(u),c=function(t){var e=t.imagePath,n=t.Detail;return(0,r.jsxs)("div",{className:o().banner,children:[(0,r.jsx)(a.default,{alt:"",src:e,draggable:!1,layout:"fill",className:"image-like-bg object-top",priority:!0}),n&&(0,r.jsx)(n,{})]})},l=n(90454),f=n(41912),d=n(44087),p=n(41820),m=n(15012),v=n(60961),x=n(34333),h=n(36118),_=n.n(h),g=n(41664),j=n(2331),b=n.n(j),w=function(t){var e=t.name,n=t.links;return(0,r.jsxs)("div",{className:b().list,children:[(0,r.jsxs)("div",{className:b().name,children:[e,":"]}),(0,r.jsx)("div",{className:b().links,children:n.map((function(t,e){var i=t.link,a=t.title,u=t._id;return(0,r.jsxs)(s.Fragment,{children:[(0,r.jsx)(g.default,{href:i,children:(0,r.jsx)("a",{children:a})}),e+1!==n.length?", ":""]},u)}))})]})},k=function(t){var e=t.movie,n=(0,m.a)().user;return(0,r.jsxs)("div",{className:_().content,children:[(0,r.jsx)("h1",{children:e.title}),(0,r.jsxs)("div",{className:_().rating,children:[(0,r.jsx)(p.Z,{name:"MdStarRate"}),(0,r.jsx)("span",{children:e.rating.toFixed(1)})]}),(0,r.jsxs)("div",{className:_().details,children:[(0,r.jsxs)("span",{children:[e.parameters.year," \xb7 "]}),(0,r.jsxs)("span",{children:[e.parameters.country," \xb7 "]}),(0,r.jsxs)("span",{children:[e.parameters.duration," min."]})]}),(0,r.jsx)(w,{name:"Genres",links:e.genres.slice(0,3).map((function(t){return{link:(0,v.i8)(t.slug),title:t.name,_id:t._id}}))}),(0,r.jsx)(w,{name:"Actors",links:e.actors.map((function(t){return{link:(0,v.F_)(t.slug),title:t.name,_id:t._id}}))}),(0,r.jsxs)("div",{className:_().rating,children:[(0,r.jsx)(p.Z,{name:"MdStarRate"}),(0,r.jsx)("span",{children:e.rating.toFixed(1)})]}),n&&(0,r.jsx)(x.Z,{movieId:e._id})]})},y=n(88767),F=n(74891),N=(0,i.default)((function(){return n.e(61).then(n.bind(n,41061))}),{loadableGenerated:{webpack:function(){return[41061]}},ssr:!1}),Z=(0,i.default)((function(){return n.e(226).then(n.bind(n,5226))}),{loadableGenerated:{webpack:function(){return[5226]}},ssr:!1}),P=function(t){var e=t.movie,n=t.similarMovies;return function(t){var e=(0,y.useMutation)("update actor",(function(){return F.u.updateCountOpened(t)})).mutateAsync;(0,s.useEffect)((function(){e()}),[])}(e.slug),(0,r.jsxs)(d.Z,{title:e.title,description:"Watch ".concat(e.title),children:[(0,r.jsx)(c,{imagePath:e.bigPoster,Detail:function(){return(0,r.jsx)(k,{movie:e})}}),(0,r.jsx)(N,{slug:e.slug,videoSource:"".concat("http://api.cinema.kriukov.space").concat(e.videoUrl)}),(0,r.jsxs)("div",{className:"mt-12",children:[(0,r.jsx)(f.Z,{title:"Similar"}),(0,r.jsx)(l.Z,{items:n})]}),(0,r.jsx)(Z,{slug:e.slug,_id:e._id})]})},C=n(27492),D=!0,I=function(t){var e=t.movie,n=t.similarMovies;return e?(0,r.jsx)(P,{movie:e,similarMovies:n||[]}):(0,r.jsx)(C.default,{})}},36118:function(t){t.exports={content:"Content_content__qxXfW",rating:"Content_rating__zKZon",details:"Content_details__0w6RG"}},2331:function(t){t.exports={list:"ContentList_list__txfiV",name:"ContentList_name__klRS3",links:"ContentList_links__cd0qI"}},30889:function(t){t.exports={button:"FavoriteButton_button__4HnpL",animate:"FavoriteButton_animate__4b8kX","heart-burst":"FavoriteButton_heart-burst__jgos5"}},78950:function(t){t.exports={banner:"Banner_banner__Xpiqz"}},11741:function(t){t.exports={gallery:"Gallery_gallery__CuT0n",item:"Gallery_item__eQKOi",vertical:"Gallery_vertical__cZ4bD",horizontal:"Gallery_horizontal__bgSxA",withText:"Gallery_withText__gpvco",content:"Gallery_content__EeavS",title:"Gallery_title__8woBC",subTitle:"Gallery_subTitle__y43Ea"}}},function(t){t.O(0,[774,888,179],(function(){return e=39174,t(t.s=e);var e}));var e=t.O();_N_E=e}]);